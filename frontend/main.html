<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>SniffSniff</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        // Load the local /dist/main.js and use a random query parameter to disable caching.
        const script = document.createElement('script');
        script.src = `./dist/main.js?v=${Date.now()}`;
        document.head.appendChild(script);
    </script>
    <style>
        #containerWrapper {
            display: flex;
            justify-content: space-between; /* Adjust as needed */
            align-items: stretch; /* Stretch columns to equal height */
        }

        #mainContainer {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            /* Set the background color here */
        }

        .btn-row {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 10px;
        }

        #leftContainer,
        #logBoxContainer,
        #rightContainer {
            padding: 10px;
            margin-right: 5px;
            margin-left: 5px;
        }

        .network-list-container {
            margin-bottom: 20px;
        }

        .network-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            font-family: monospace;
        }

        .btn-container {
            margin-bottom: 10px;
        }

        .input-container {
            margin-top: 10px;
        }

        #net_info_container {
            width: 210px;
            border: 1px solid #ccc;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
            position: relative;
        }

        #net_info {
            height: 100px;
            overflow-y: auto;
            padding: 10px;
            font-family: monospace;
        }

        #tableContainer {
            width: 60vw;
            height: 55vh;
            margin: auto;
            overflow: auto; /* Make the container scrollable */
            padding: 10px;
        }

        #dataTable {
            width: 100%;
            border-collapse: collapse;
        }

        #dataTable th, #dataTable td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }

        #dataTable th {
            background-color: #f0f0f0;
        }

        #scrollButton {
            width: 100px;
            margin-top: 10px;
        }

        .btn-success {
            background-color: green;
            color: white;
        }

        .btn-danger {
            background-color: red;
            color: white;
        }
    </style>
</head>

<body>
    <div id="mainContainer">
        <div id="containerWrapper">
            <div id="leftContainer">
                <div class="network-list-container">
                    <button style="width: 210px;" class="btn btn-primary" id="get_networks">Get available networks</button>
                    <div id="networks_list" class="network-list"></div>
                </div>

                <div class="btn-container">
                    <button style="width: 210px;" class="btn btn-primary" id="get_ap"> Get concrete network from
                        above</button>
                    <div id="net_info_container">
                        <div id="net_info"></div>
                    </div>
                </div>

                <div class="btn-container">
                    <input style="width: 210px;" type="text" id="password_text" placeholder="Password">
                </div>
                <div class="btn-container">
                    <button style="width: 210px;" class="btn btn-primary" id="try_input_password"> Try input
                        password</button>
                </div>

                <div class="btn-container">
                    <button style="width: 210px;" class="btn btn-primary" id="ignore_network"> Ignore network</button>
                    <div class="input-container">
                        <input style="width: 210px;" type="text" id="ignore_network_text" placeholder="Network name">
                    </div>
                    <button style="width: 210px;" class="btn btn-primary" id="deauth_network"> Deauth selected client</button>
                </div>

                <div class="btn-container">
                    <button style="width: 210px; display: flex; flex-direction: column; margin-bottom: 20px;"
                            class="btn btn-primary" id="focus_network">
                        Focus the network</button>
                </div>
            </div>
            <div id="logBoxContainer">
                <div class="btn-row">
                    <button style="width: 230px;" class="btn btn-primary" id="get_stream"> Try get stream</button>
                    <button style="width: 230px;"  class="btn btn-primary" id="cancel_stream"> Cancel stream</button>
                    <button style="width: 230px;"  class="btn btn-primary" id="save_stream"> Save Stream as file on disk</button>
                </div>
                <div id="tableContainer">
                    <table id="dataTable">
                        <thead>
                        <tr>
                            <th>Type</th>
                            <th>From</th>
                            <th>IP:Port</th>
                            <th>To</th>
                            <th>IP:Port</th>
                        </tr>
                        </thead>
                        <tbody id="dataBody">
                        <!-- Content will be dynamically added here -->
                        </tbody>
                    </table>
                </div>
            </div>


        </div>
            <div id="rightContainer">
                <div class="btn-container">
                <button style="width: 180px; display: flex; flex-direction: column ; margin-bottom: 20px;" id="scrollButton" class="btn btn-danger">Focus new outputs</button>
                </div>
                <div class="btn-container">
                    <button style="width: 180px; display: flex; flex-direction: column ; margin-bottom: 20px;"
                        class="btn btn-primary" id="get_focus_state">
                        Get focus state (console)</button>
                </div>
                <div class="btn-container">
                    <button style="width: 180px; display: flex; flex-direction: column ; margin-bottom: 20px;"
                        class="btn btn-primary" id="unfocus_network">
                        Unfocus</button>
                </div>
                <div class="btn-container">
                    <button style="width: 180px; display: flex; flex-direction: column ; margin-bottom: 20px;"
                        class="btn btn-primary" id="get_files"> Get available
                        file recordings</button>
                    <div id="files_list"> </div>
                </div>

                <div class="btn-container">
                    <button style="width: 180px; display: flex; flex-direction: column; margin-bottom: 20px;"
                        class="btn btn-primary" id="get_stream_recording"> Stream from
                        recording
                    </button>
                </div>
                <div class="btn-container">
                    <button style="width: 180px; display: flex; flex-direction: column ; margin-bottom: 20px;"
                        class="btn btn-primary" id="get_ignored_networks">
                        Get Ignored Networks </button>
                    <div id="ignored_networks_list"> </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    let isScrollOn = false;

    document.getElementById('scrollButton').addEventListener('click', function() {
        const button = this;

        if (isScrollOn) {
            // Turn OFF
            isScrollOn = false;
            button.classList.remove('btn-success');
            button.classList.add('btn-danger');
            button.textContent = 'Scroll OFF';

            // Implement logic to turn OFF scrolling (if needed)
        } else {
            // Turn ON
            isScrollOn = true;
            button.classList.remove('btn-danger');
            button.classList.add('btn-success');
            button.textContent = 'Scroll ON';

            // Implement logic to turn ON scrolling (if needed)
        }
    });
</script>
</html>
